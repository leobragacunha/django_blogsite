{% extends "base.html" %}

{% block title %} 
    <title>BLOG | New Post</title>
{% endblock title %} 

{% block content %}
    {% if user.is_authenticated %}
        <h3>Time to write!</h3>
        <form action="" method="post">
            {% csrf_token %}
            <table>
                {{ form.as_table }}
                <tr>
                    <td></td>
                    <td>
                        <input type="submit" class="btn btn-success" value="Post!">
                        <!-- Different Behaviours for CreateView and UpdateView -->
                        <a class="btn btn-danger" href= {% if not form.instance.pk %} "{% url 'blog:posts' %}" 
                                                        {% else %} "{% url 'blog:post-detail' post.pk %}" {% endif %}>Cancel</a>
            
                    </td>
                </tr>
            </table>
            
        </form>
    {% endif %}
    
{% endblock content %}

